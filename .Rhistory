st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
jd <- st_transform(st_zm(jd), crs = 4326)
river <- st_transform(st_zm(river), crs = 4326)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 3)
)
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
jd <- st_transform(st_zm(jd), crs = 4326)
river <- st_transform(st_zm(river), crs = 4326)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 4)
)
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
jd <- st_transform(st_zm(jd), crs = 4326)
river <- st_transform(st_zm(river), crs = 4326)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 5)
)
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
jd <- st_transform(st_zm(jd), crs = 4326)
river <- st_transform(st_zm(river), crs = 4326)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 4)
)
#| warning: FALSE
f <- "C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/VegDatabases/Fecal.xlsx"
fecal <- read_excel(f, "Sheet1")
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
jd <- st_transform(st_zm(jd), crs = 4326)
river <- st_transform(st_zm(river), crs = 4326)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 4)
)
#| warning: FALSE
f <- "C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/VegDatabases/Fecal.xlsx"
fecal <- read_excel(f, "Sheet1")
fecal.time <- fecal %>%
filter(!ID %in% c("25_045", "25_061")) %>%
mutate(
DATE = as.Date(
suppressWarnings(as.numeric(DATE)),  # convert Excel numbers to Date
origin = "1899-12-30"                # Excel date origin
)
) %>%
filter(!is.na(DATE)) %>%        # remove rows where DATE is NA
distinct(DATE, .keep_all = TRUE) %>%  # keep only one row per DATE
mutate(
DOY  = yday(DATE),
Year = factor(year(DATE))
)
ggplot(fecal.time, aes(x = DOY, y = Year, color = Year)) +
geom_jitter(height = 0.2, size = 3) +   # jitter vertically within each Year
scale_x_continuous(
breaks = c(1, 32, 61, 92, 122, 153, 183, 213),
labels = c("Jan", "Feb", "March", "Apr", "May", "June", "July", "Aug")
) +
labs(
title = "Sampling Dates by Year",
x = "Month",
y = "Year",
color = "Year"
) +
theme_bw()
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061", "25_048")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
jd <- st_transform(st_zm(jd), crs = 4326)
river <- st_transform(st_zm(river), crs = 4326)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 4)
)
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061", "25_048")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 4)
)
View(fecal.loc)
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061", "25_048")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 4)
)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right")
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061", "25_048")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right")
#| warning: FALSE
f <- "C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/VegDatabases/Fecal.xlsx"
fecal <- read_excel(f, "Sheet1")
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061", "25_048")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right")
#| warning: FALSE
f <- "C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/VegDatabases/Fecal.xlsx"
fecal <- read_excel(f, "Sheet1")
fecal.time <- fecal %>%
filter(!ID %in% c("25_045", "25_061")) %>%
mutate(
DATE = as.Date(
suppressWarnings(as.numeric(DATE)),  # convert Excel numbers to Date
origin = "1899-12-30"                # Excel date origin
)
) %>%
filter(!is.na(DATE)) %>%        # remove rows where DATE is NA
distinct(DATE, .keep_all = TRUE) %>%  # keep only one row per DATE
mutate(
DOY  = yday(DATE),
Year = factor(year(DATE))
)
ggplot(fecal.time, aes(x = DOY, y = Year, color = Year)) +
geom_jitter(height = 0.2, size = 3) +   # jitter vertically within each Year
scale_x_continuous(
breaks = c(1, 32, 61, 92, 122, 153, 183, 213),
labels = c("Jan", "Feb", "March", "Apr", "May", "June", "July", "Aug")
) +
labs(
title = "Sampling Dates by Year",
x = "Month",
y = "Year",
color = "Year"
) +
theme_bw()
fecal.loc <- fecal %>%
filter(!is.na(LAT) & !is.na(LONG)) %>%
filter(!ID %in% c("25_045", "25_061", "25_048")) %>%
st_as_sf(coords = c("LONG", "LAT"), crs = 4326)  # convert to sf
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right")
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_sf(data = fecal.loc, aes(color = QUALITY), size = 2, alpha = 0.8) +
labs(
title = "Sample Locations within the John Day",
x = "Longitude",
y = "Latitude",
color = "Sample Freshness"
) +
theme_minimal() +
theme(legend.position = "right") +
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 3)
)
#| warning: FALSE
#| message: FALSE
library(ggmap)
river <- st_read(
"C:/Users/Alexis Means/Documents/Project/JohnDayRiver_shp/JohnDayRiver.shp",
quiet = TRUE
)
jd <- st_read(
"C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/2025_GRTS/25_StudyArea/25_LJD_StudyArea_all.shp",
quiet = TRUE
)
jd <- st_transform(st_zm(jd), crs = 32610)
river <- st_transform(st_zm(river), crs = 32610)
river <- st_intersection(river, jd)
ggplot() +
# John Day boundary (outline only)
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
# River shapefile
geom_sf(data = river, color = "blue", size = 0.8) +
# Transect points from your dataframe
geom_point(
data = transect,
aes(x = easting, y = northing, color = PVT),
size = 2,
alpha = 0.8
) +
# Color scheme
scale_color_manual(values = c(
"Grassland" = "green",
"Riparian" = "blue",
"Sparse" = "brown",
"Intermediate" = "yellow",
"Scabland" = "purple",
"Shrubland" = "red"
)) +
# Labels and theme
labs(
title = "Sample Locations within the John Day",
x = "Easting",
y = "Northing",
color = "Vegetation Type"
) +
theme_minimal() +
theme(legend.position = "right")+
scale_x_continuous(
breaks = pretty(range(st_coordinates(jd)[,1]), n = 3)
) +
scale_y_continuous(
breaks = pretty(range(st_coordinates(jd)[,2]), n = 3)
)
#| warning: FALSE
#| message: FALSE
library(ggmap)
river <- st_read(
"C:/Users/Alexis Means/Documents/Project/JohnDayRiver_shp/JohnDayRiver.shp",
quiet = TRUE
)
jd <- st_read(
"C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/2025_GRTS/25_StudyArea/25_LJD_StudyArea_all.shp",
quiet = TRUE
)
jd <- st_transform(st_zm(jd), crs = 32610)
river <- st_transform(st_zm(river), crs = 32610)
river <- st_intersection(river, jd)
ggplot() +
# John Day boundary (outline only)
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
# River shapefile
geom_sf(data = river, color = "blue", size = 0.8) +
# Transect points from your dataframe
geom_point(
data = transect,
aes(x = easting, y = northing, color = PVT),
size = 2,
alpha = 0.8
) +
# Color scheme
scale_color_manual(values = c(
"Grassland" = "green",
"Riparian" = "blue",
"Sparse" = "brown",
"Intermediate" = "yellow",
"Scabland" = "purple",
"Shrubland" = "red"
)) +
# Labels and theme
labs(
title = "Sample Locations within the John Day",
x = "Easting",
y = "Northing",
color = "Vegetation Type"
) +
theme_minimal() +
theme(legend.position = "right")
ggplot() +
# John Day boundary (outline only)
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
# River shapefile
geom_sf(data = river, color = "blue", size = 0.8) +
# Transect points from your dataframe
geom_point(
data = transect,
aes(x = easting, y = northing, color = PVT),
size = 2,
alpha = 0.8
) +
# Color scheme
scale_color_manual(values = c(
"Grassland" = "green",
"Riparian" = "blue",
"Sparse" = "brown",
"Intermediate" = "yellow",
"Scabland" = "purple",
"Shrubland" = "red"
)) +
scale_x_continuous(
breaks = pretty(range(transect$easting), n = 3),
labels = function(x) format(x, big.mark = ",")  # add commas for readability
) +
scale_y_continuous(
breaks = pretty(range(transect$northing), n = 3),
labels = function(x) format(x, big.mark = ",")
) +
# Labels and theme
labs(
title = "Sample Locations within the John Day",
x = "Easting",
y = "Northing",
color = "Vegetation Type"
) +
theme_minimal() +
theme(legend.position = "right")
#| warning: FALSE
#| message: FALSE
library(ggmap)
river <- st_read(
"C:/Users/Alexis Means/Documents/Project/JohnDayRiver_shp/JohnDayRiver.shp",
quiet = TRUE
)
jd <- st_read(
"C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/2025_GRTS/25_StudyArea/25_LJD_StudyArea_all.shp",
quiet = TRUE
)
jd <- st_transform(st_zm(jd), crs = 32610)
river <- st_transform(st_zm(river), crs = 32610)
river <- st_intersection(river, jd)
ggplot() +
geom_sf(data = jd, fill = NA, color = "black", size = 0.6) +
geom_sf(data = river, color = "blue", size = 0.8) +
geom_point(
data = transect,
aes(x = easting, y = northing, color = PVT),
size = 2,
alpha = 0.8
) +
scale_color_manual(values = c(
"Grassland" = "green",
"Riparian" = "blue",
"Sparse" = "brown",
"Intermediate" = "yellow",
"Scabland" = "purple",
"Shrubland" = "red"
)) +
labs(
title = "Sample Locations within the John Day",
x = "Easting",
y = "Northing",
color = "Vegetation Type"
) +
theme_minimal() +
theme(legend.position = "right")
quarto::quarto_render()
library(DT)
install.packages("quarto")
library(quarto)
quarto::quarto_render()
