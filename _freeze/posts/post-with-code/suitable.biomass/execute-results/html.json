{
  "hash": "78c313a056eb0b3423643821f8be6779",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Suitable Biomass Subset\"\nauthor: \"Alexis Means\"\ndate: 2025-07-19\ncode-fold: TRUE\n---\n\n\n\n# **Suitable Biomass**\n\nUsing the subset of my data that I have created, I want to set up some visualizations that I know will be useful once I have the completed version of my data set. All of the values provided in my data set are actual measurements of samples. However I have not completed my linear regression equation that allows me to predict biomass for my unclipped plots. So for now this data represents just my clipped quadrats\n\n## Data wrangling\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readr' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(lubridate) \nlibrary(sf)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLinking to GEOS 3.11.2, GDAL 3.7.2, PROJ 9.3.0; sf_use_s2() is TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\nsetwd(\"C:/Users/Alexis Means/Documents/Project/Nutrition Sampling/R code/FRESH/processed.data/\") \ntotals <- read.csv(\"test.totals.csv\")\nfdata <- read.csv(\"test.fdata.csv\") \ntransect <- read.csv(\"../raw.data/transect.csv\") #formatting plot database \n\nplot <- transect %>% rename(TransectID = PlotID, Lat = BeginLat, Long = BeginLong) %>% select(Dates, TransectID, PVT, Lat, Long)\n\nplot <- plot %>% \n  mutate(Dates = mdy(Dates), JulianDay = yday(Dates)) %>%\n  st_as_sf(coords = c(\"Long\", \"Lat\"), crs = 4326) %>% \n  st_transform(crs = 32611) %>% \n  mutate(Easting = st_coordinates(.)[,1], Northing = st_coordinates(.)[,2]) %>% select(JulianDay, TransectID, PVT, Easting, Northing) %>% st_drop_geometry()\n\n#formatting fdata \nfdata <- fdata %>% select(-Max, -Pct_Used, -SuitableBiomass)\n\n#combine all the databases \ndata <- plot %>% \n  left_join(y = totals, by = \"TransectID\") %>% \n  left_join(y = fdata, by = \"TransectID\", relationship = \"one-to-many\") \n\n#I hate the way it is arranged, so I am going to rearrange it \ndata <- data %>% \n  select(JulianDay, PVT, TransectID, Plant.Code, Phenology, Part, Biomass, Biomass_Used, Pct_Suitable_Biomass, SuitableBiomass, DE, TotalDE, AveDE, DP, TotalDP, AveDP, Easting, Northing) \n\n#recategorize PVT\ndata <- data %>%\n  mutate(PVT = recode(PVT, `672` = \"Grassland\", `668` = \"Scabland\", `669` = \"Sagebrush Shrubland\", `674` = \"Sagebrush Steppe\", `682` = \"Riparian\"))\n\nrm(fdata, plot, totals, transect)\n```\n:::\n\n\n\n## Suitable Biomass Visualizations\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the percent of biomass relative to each PVT's total biomass percent\npercentdata <- data %>% group_by(PVT) %>%\n  mutate( total_biomass = sum(SuitableBiomass, na.rm = TRUE),  # Total biomass in each PVT \n          percent_biomass = SuitableBiomass / total_biomass * 100 # Percent biomass relative to total biomass in PVT\n          ) %>% ungroup() \n\n# Boxplot for percent biomass \nggplot(percentdata, aes(x = PVT, y = percent_biomass, fill = PVT)) +\n  geom_boxplot() + \n  labs(title = \"% Suitable Biomass Relative to Total Suitable Biomass by PVT\", x = \"PVT\", y = \"Percent Suitable Biomass\") + \n  theme_minimal() + theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](suitable.biomass_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n**DE Visualizations**\n\n**DP Visualizations**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create the boxplot\nggplot(data, aes(x = PVT, y = SuitableBiomass, fill = PVT)) + \n  geom_boxplot() + \n  labs(title = \"% Suitable Biomass Relative to Total Suitable Biomass by PVT\", x = \"PVT\", y = \"Suitable Biomass per PVT\") +\n  theme_minimal() + \n  theme(legend.position = \"none\") \n```\n\n::: {.cell-output-display}\n![](suitable.biomass_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "suitable.biomass_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}